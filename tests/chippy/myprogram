#!/usr/bin/chippy
#
# myprogram V-1.0.0
#

var STDIN = 0;var STDOUT = 1;var STDERR = 2;var SEEKSET = 0;var SEEKCUR = 1;var SEEKEND = 2;func Contains(value, needle){if needle == "" { return false; }return not iserr(indexof(value, needle));}func StartsWith(value, prefix){if len(prefix) > len(value) { return false; }return substr(value, 1, len(prefix)) == prefix;}func EndsWith(value, suffix){if len(suffix) > len(value) { return false; }var start = len(value) - len(suffix) + 1;return substr(value, start, len(suffix)) == suffix;}func Left(value, count){if count < 0 { return err; }if count > len(value) { return value; }return substr(value, 1, count);}func Right(value, count){if count < 0 { return err; }if count > len(value) { return value; }var start = len(value) - count + 1;return substr(value, start, count);}func Reverse(value){var result = "";var i = len(value);while i >= 1{result = result + charat(value, i);i = i - 1;}return result;}func TrimLeft(value){var i = 1;while i <= len(value){var ch = charat(value, i);if ch != " " and ch != "\t" and ch != "\n" and ch != "\r"{break;}i = i + 1;}return substr(value, i, len(value) - i + 1);}func TrimRight(value){var i = len(value);while i >= 1{var ch = charat(value, i);if ch != " " and ch != "\t" and ch != "\n" and ch != "\r"{break;}i = i - 1;}return substr(value, 1, i);}func Trim(value){return TrimLeft(TrimRight(value));}func SplitCollapse(value, delimiter){if delimiter == "" { return err; }var trimmed = Trim(value);if trimmed == "" { return []; }var parts = split(trimmed, delimiter);var result = [];for i = 1 to len(parts){var part = parts[i];if part != ""{result = append(result, part);}}return result;}func Format(value, values){if type(values) != "list" { return err; }var parts = [];var valIndex = 1;var i = 1;while i <= len(value){var ch = charat(value, i);if ch == "%"{if i + 1 <= len(value){var next = charat(value, i + 1);if next == "%"{parts = append(parts, "%");i = i + 2;}elseif next == "s"{if valIndex > len(values) { return err; }parts = append(parts, str(values[valIndex]));valIndex = valIndex + 1;i = i + 2;}elseif next == "i"{if valIndex > len(values) { return err; }parts = append(parts, str(int(values[valIndex])));valIndex = valIndex + 1;i = i + 2;}elseif next == "n"{if valIndex > len(values) { return err; }parts = append(parts, str(num(values[valIndex])));valIndex = valIndex + 1;i = i + 2;}else{return err;}}else{return err;}}else{parts = append(parts, ch);i = i + 1;}}if valIndex != len(values) + 1 { return err; }return join(parts, "");}func Print(text){fwrite(pack(str(text)), STDOUT);}func Println(text){Print(text + "\n");}func Printe(text){fwrite(pack(str(text)), STDERR);}func Printeln(text){Printe(text + "\n");}func Printf(text, values){var fmtStr = Format(str(text), values);if iserr(fmtStr) { return err; }Print(fmtStr);}func Printfln(text, values){return Printf(text + "\n", values);}func Printef(text, values){var fmtStr = Format(str(text), values);if iserr(fmtStr) { return err; }Printe(fmtStr);}func Printefln(text, values){return Printef(text + "\n", values);}Println("ChipLang Nix Package Test");Println("=========================");Println("");